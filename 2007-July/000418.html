<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> r436 - trunk/kernel/2.6/include/linux
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-commit/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-commit%40lists.berlios.de?Subject=Re%3A%20r436%20-%20trunk/kernel/2.6/include/linux&In-Reply-To=%3C200707170702.l6H723gv020404%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000417.html">
   <LINK REL="Next"  HREF="000419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>r436 - trunk/kernel/2.6/include/linux</H1>
    <B>hartkopp at mail.berlios.de</B> 
    <A HREF="mailto:socketcan-commit%40lists.berlios.de?Subject=Re%3A%20r436%20-%20trunk/kernel/2.6/include/linux&In-Reply-To=%3C200707170702.l6H723gv020404%40sheep.berlios.de%3E"
       TITLE="r436 - trunk/kernel/2.6/include/linux">hartkopp at mail.berlios.de
       </A><BR>
    <I>Tue Jul 17 09:02:03 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000417.html">r435 - in trunk/patch-series: 2.6.22 net-2.6.23
</A></li>
        <LI>Next message: <A HREF="000419.html">r437 - trunk/kernel/2.6/net/can
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#418">[ date ]</a>
              <a href="thread.html#418">[ thread ]</a>
              <a href="subject.html#418">[ subject ]</a>
              <a href="author.html#418">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: hartkopp
Date: 2007-07-17 09:02:01 +0200 (Tue, 17 Jul 2007)
New Revision: 436

Modified:
   trunk/kernel/2.6/include/linux/can.h
Log:
Typedefs are evil in the Linux kernel, see Greg KH's comment on
<A HREF="http://www.linuxjournal.com/comment/reply/5780">http://www.linuxjournal.com/comment/reply/5780</A>

Btw. our curent typedefs canid_t and can_err_mask_t definitely make
sense and do not hide any bad things that have been remarked by Greg KH.

Added come appropriate comments for the typedefs analogue to the comments
in drivers/net/netxen/netxen_nic.h that also has been introduced into
the Kernel recently.


Modified: trunk/kernel/2.6/include/linux/can.h
===================================================================
--- trunk/kernel/2.6/include/linux/can.h	2007-07-16 20:25:39 UTC (rev 435)
+++ trunk/kernel/2.6/include/linux/can.h	2007-07-17 07:02:01 UTC (rev 436)
@@ -33,7 +33,22 @@
 #define CAN_EFF_MASK 0x1FFFFFFFU /* extended frame format (EFF) */
 #define CAN_ERR_MASK 0x1FFFFFFFU /* omit EFF, RTR, ERR flags */
 
+/*
+ * Controller Area Network Identifier structure
+ *
+ * bit 0-28	: CAN identifier (11/29 bit)
+ * bit 29	: error frame flag (0 = data frame, 1 = error frame)
+ * bit 30	: remote transmission request flag (1 = rtr frame)
+ * bit 31	: frame format flag (0 = standard 11 bit, 1 = extended 29 bit)
+ */
 typedef __u32 canid_t;
+
+/*
+ * Controller Area Network Error Frame Mask structure
+ *
+ * bit 0-28	: error class mask (see include/linux/can/error.h)
+ * bit 29-31	: set to zero
+ */
 typedef __u32 can_err_mask_t;
 
 /**


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000417.html">r435 - in trunk/patch-series: 2.6.22 net-2.6.23
</A></li>
	<LI>Next message: <A HREF="000419.html">r437 - trunk/kernel/2.6/net/can
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#418">[ date ]</a>
              <a href="thread.html#418">[ thread ]</a>
              <a href="subject.html#418">[ subject ]</a>
              <a href="author.html#418">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-commit">More information about the Socketcan-commit
mailing list</a><br>
</body></html>
